//- Get lang from page, or siteinfo, or set to default "en"
- var lang = page.lang || siteinfo.lang || "en_US";
html(lang=lang.replace(/_.*$/,""))
  head
    //- Required meta tags (best practices)
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")

    //- HEAD = the rest of the head tags
    block head
      
      //- Title and description
      - let title = (page.title ? page.title : "") + (siteinfo.name || "My Site");
      - let desc = page.description || siteinfo.description || "";
      title #{title}
      meta(name="description" content=desc)

      //- Author and copyright information
      - let author = page.author || siteinfo.author
      - let copyright = page.copyright || siteinfo.copyright
      if author
        meta(name="author" content=author)
      if copyright
      meta(name="copyright" content=copyright)


      - let url = page.url || "/"
      - let mainImage = page.mainImage || siteinfo.mainImage || ""
      //- OPENGRAPH Tags (Facebook: https://developers.facebook.com/docs/sharing/webmasters)
      meta(property="og:locale" content=lang)
      block opengraph
        - let openType = page.type || ""
        meta(property="og:url" content=url)
        meta(property="og:type" content=openType)
        meta(property="og:title" content=page.title)
        meta(property="og:description" content=desc)
        meta(property="og:image" content=mainImage)


      //- TWITTER Tags (Twitter: https://dev.twitter.com/cards/types/summary-large-image)
      meta(property="twitter:card" content="summary_large_image")
      block twitter
        - let twitterUser = page.twitter || "";
        - let twitterSite = siteinfo.twitter || "";
        meta(property="twitter:site" content=twitterSite)
        meta(property="twitter:creator" content=twitterUser)
        meta(property="twitter:title" content=page.title)
        meta(property="twitter:description" content=desc)
        meta(property="twitter:image" content=mainImage)


  body(class={home: page.home === true })
    block body
    script
      include google-analytics.js
      block scripts
